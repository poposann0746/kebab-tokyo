<div class="min-h-screen bg-amber-50 -mt-4 pb-12">

  <!-- ãƒ’ãƒ¼ãƒ­ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ -->
  <div id="hero-slider" class="relative overflow-hidden shadow-2xl">
    <!-- ã‚¹ãƒ©ã‚¤ãƒ‰ç¾¤ -->
    <div id="hero-slides" class="flex transition-transform duration-700 ease-in-out">

      <!-- ã‚¹ãƒ©ã‚¤ãƒ‰1 -->
      <div class="w-full shrink-0 relative bg-stone-900 px-6 py-12 text-amber-50 text-center">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.08%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-30"></div>
        <div class="relative">
          <p class="text-5xl mb-3">ğŸ¥™</p>
          <h2 class="text-2xl font-black tracking-tight">æ±äº¬ã®ã‚±ãƒãƒ–ã‚’è¦‹ã¤ã‘ã‚ˆã†</h2>
          <p class="mt-2 text-amber-200 text-sm font-medium">ã¿ã‚“ãªã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šã®ä¸€æœ¬ã‚’</p>
        </div>
      </div>

      <!-- ã‚¹ãƒ©ã‚¤ãƒ‰2 -->
      <div class="w-full shrink-0 relative bg-amber-800 px-6 py-12 text-amber-50 text-center">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.08%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-30"></div>
        <div class="relative">
          <p class="text-5xl mb-3">ğŸ¥©</p>
          <h2 class="text-2xl font-black tracking-tight">è‚‰ã®å‘³ã‚’è©•ä¾¡ã—ã‚ˆã†</h2>
          <p class="mt-2 text-amber-200 text-sm font-medium">ãƒ“ãƒ¼ãƒ•ãƒ»ãƒã‚­ãƒ³ãƒ»ãƒŸãƒƒã‚¯ã‚¹ã€ã‚ãªãŸã®æ¨ã—ã¯ï¼Ÿ</p>
        </div>
      </div>

      <!-- ã‚¹ãƒ©ã‚¤ãƒ‰3 -->
      <div class="w-full shrink-0 relative bg-orange-700 px-6 py-12 text-amber-50 text-center">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.08%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-30"></div>
        <div class="relative">
          <p class="text-5xl mb-3">ğŸ“</p>
          <h2 class="text-2xl font-black tracking-tight">ã‚¨ãƒªã‚¢ã‹ã‚‰æ¢ã™</h2>
          <p class="mt-2 text-amber-200 text-sm font-medium">æ–°å®¿ãƒ»æ¸‹è°·ãƒ»ç§‹è‘‰åŸ...ãŠè¿‘ãã®ã‚±ãƒãƒ–åº—</p>
        </div>
      </div>

      <!-- ã‚¹ãƒ©ã‚¤ãƒ‰4 -->
      <div class="w-full shrink-0 relative bg-stone-800 px-6 py-12 text-amber-50 text-center">
        <div class="absolute inset-0 bg-[url('data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D%2260%22%20height%3D%2260%22%20viewBox%3D%220%200%2060%2060%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%3Cg%20fill%3D%22none%22%20fill-rule%3D%22evenodd%22%3E%3Cg%20fill%3D%22%23ffffff%22%20fill-opacity%3D%220.08%22%3E%3Cpath%20d%3D%22M36%2034v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6%2034v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6%204V0H4v4H0v2h4v4h2V6h4V4H6z%22%2F%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E')] opacity-30"></div>
        <div class="relative">
          <p class="text-5xl mb-3">âœï¸</p>
          <h2 class="text-2xl font-black tracking-tight">ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æŠ•ç¨¿ã—ã‚ˆã†</h2>
          <p class="mt-2 text-amber-200 text-sm font-medium">ã‚ãªãŸã®ä¸€è¨€ãŒã‚±ãƒãƒ–å¥½ãã®é“ã—ã‚‹ã¹ã«</p>
        </div>
      </div>

    </div>

    <!-- ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
    <div class="absolute bottom-3 left-0 right-0 flex justify-center gap-2 z-10">
      <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/90 transition-all duration-300" data-slide="0"></button>
      <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/40 transition-all duration-300" data-slide="1"></button>
      <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/40 transition-all duration-300" data-slide="2"></button>
      <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/40 transition-all duration-300" data-slide="3"></button>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const slides = document.getElementById("hero-slides");
      const dots = document.querySelectorAll(".hero-dot");
      const totalSlides = dots.length;
      let current = 0;
      let timer;

      function goTo(index) {
        current = index % totalSlides;
        slides.style.transform = "translateX(-" + (current * 100) + "%)";
        dots.forEach(function(dot, i) {
          dot.classList.toggle("bg-white/90", i === current);
          dot.classList.toggle("bg-white/40", i !== current);
        });
      }

      function startAutoPlay() {
        timer = setInterval(function() { goTo(current + 1); }, 5000);
      }

      dots.forEach(function(dot) {
        dot.addEventListener("click", function() {
          clearInterval(timer);
          goTo(parseInt(this.dataset.slide));
          startAutoPlay();
        });
      });

      startAutoPlay();
    });
  </script>

  <div class="mx-auto max-w-screen-xl -mt-5 relative z-10 space-y-6 px-4 pb-6">

    <%# ã‚ãªãŸã®æŠ•ç¨¿ %>
    <% if user_signed_in? && @my_reviews.present? %>
      <section>
        <div class="flex items-center gap-2 mb-3">
          <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-amber-100 text-lg shadow-sm">ğŸ“</span>
          <h2 class="text-lg font-bold text-stone-800">ã‚ãªãŸã®æŠ•ç¨¿</h2>
          <span class="text-xs text-amber-700 font-medium">(<%= @my_reviews.size %>ä»¶)</span>
        </div>
        <div class="flex overflow-x-auto gap-4 pb-2 -mx-4 px-4 scrollbar-hide">
          <% @my_reviews.each do |review| %>
            <%= render "home/review_card", review: review %>
          <% end %>
        </div>
      </section>
    <% end %>

    <%# ãŠã™ã™ã‚ %>
    <% if @recommended_reviews.present? %>
      <section>
        <div class="flex items-center gap-2 mb-3">
          <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-amber-100 text-lg shadow-sm">ğŸ†</span>
          <h2 class="text-lg font-bold text-stone-800">ãŠã™ã™ã‚</h2>
        </div>
        <div class="flex overflow-x-auto gap-4 pb-2 -mx-4 px-4 scrollbar-hide">
          <% @recommended_reviews.each do |review| %>
            <%= render "home/review_card", review: review %>
          <% end %>
        </div>
      </section>
    <% end %>

    <%# æ–°å®¿ %>
    <% if @shinjuku_reviews.present? %>
      <section>
        <div class="flex items-center gap-2 mb-3">
          <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-amber-100 text-lg shadow-sm">ğŸ“</span>
          <h2 class="text-lg font-bold text-stone-800">æ–°å®¿</h2>
          <span class="text-xs text-amber-700 font-medium">(<%= @shinjuku_reviews.size %>ä»¶)</span>
        </div>
        <div class="flex overflow-x-auto gap-4 pb-2 -mx-4 px-4 scrollbar-hide">
          <% @shinjuku_reviews.each do |review| %>
            <%= render "home/review_card", review: review %>
          <% end %>
        </div>
      </section>
    <% end %>

    <%# æ¸‹è°· %>
    <% if @shibuya_reviews.present? %>
      <section>
        <div class="flex items-center gap-2 mb-3">
          <span class="inline-flex items-center justify-center w-8 h-8 rounded-full bg-amber-100 text-lg shadow-sm">ğŸ“</span>
          <h2 class="text-lg font-bold text-stone-800">æ¸‹è°·</h2>
          <span class="text-xs text-amber-700 font-medium">(<%= @shibuya_reviews.size %>ä»¶)</span>
        </div>
        <div class="flex overflow-x-auto gap-4 pb-2 -mx-4 px-4 scrollbar-hide">
          <% @shibuya_reviews.each do |review| %>
            <%= render "home/review_card", review: review %>
          <% end %>
        </div>
      </section>
    <% end %>

  </div>
</div>
